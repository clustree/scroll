{"version":3,"sources":["../../lib/index.esm.js","App.js","serviceWorker.js","index.js"],"names":["_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","GUTTER_WIDTH","OBSERVED_ATTRIBUTES","ScrollY","_ref","dark","children","_useState2","scrollbarWidth","setScrollbarWidth","rootRef","scrollingTimeout","scrollContainerRef","scrollbarRef","isDraggingScrollbar","initialScrollTop","initialScrollbarY","scrollbarScale","prevValues","mouseDown","event","preventDefault","scroller","current","clientY","scrollTop","rootNode","dataset","moving","mouseUp","mouseMove","diff","scrollbar","animationLoop","scrollContainer","newValues","scrollHeight","offsetHeight","some","key","clearTimeout","scrolling","setTimeout","offset","scale","style","transform","concat","from","forEach","e","hidden","requestAnimationFrame","window","addEventListener","cancelAnimationFrame","removeEventListener","width","offsetWidth","clientWidth","_w","createElement","className","ref","right","paddingRight","LOREM","LoremIpsum","count","fill","map","l","NativeScroll","App","defaultValue","useState","isDark","toggleDark","useLayoutEffect","document","documentElement","classList","add","remove","v","useDarkMode","useNativeScroll","toggleNativeScroll","dropdownOpen","toggleDropDown","setCount","Component","type","onClick","min","max","onChange","Number","parseInt","target","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4c30ba92.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect, useLayoutEffect } from 'react';\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nvar GUTTER_WIDTH = 40;\nvar OBSERVED_ATTRIBUTES = ['scrollTop', 'scrollHeight', 'offsetTop'];\n\nfunction ScrollY(_ref) {\n  var dark = _ref.dark,\n      children = _ref.children;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      scrollbarWidth = _useState2[0],\n      setScrollbarWidth = _useState2[1]; // We store a reference to the top level node to set data attributes\n  // We use these data attributes to style the scrollbar\n  // - scrolling: the element is scrolling (with a 100ms timeout using scrollingTimeout)\n  // - hidden: the element has no scrollbar\n  // - moving: the element is being dragged\n\n\n  var rootRef = useRef(null);\n  var scrollingTimeout = useRef(null); // This stores a reference to the inner div that we measure\n\n  var scrollContainerRef = useRef(null); // This stores a reference to the scrollbar itself\n\n  var scrollbarRef = useRef(null); // Are we currently dragging the scrollbar\n\n  var isDraggingScrollbar = useRef(false); // Initial scrollTop when we started dragging\n\n  var initialScrollTop = useRef(0); // Initial scrollbar position\n\n  var initialScrollbarY = useRef(0);\n  var scrollbarScale = useRef(1);\n  useEffect(function () {\n    var animationId = null; // Previously measured values of OBSERVED_ATTRIBUTES\n\n    var prevValues = {}; // measure every frame\n    // This is the only reliable way to check for scrollHeight changes\n\n    var animationLoop = function animationLoop() {\n      var rootNode = rootRef.current;\n      var scrollContainer = scrollContainerRef.current;\n      var scrollbar = scrollbarRef.current;\n\n      if (scrollContainer != null) {\n        var newValues = {}; // Measure from DOM\n\n        newValues.scrollTop = scrollContainer.scrollTop;\n        newValues.scrollHeight = scrollContainer.scrollHeight;\n        newValues.offsetHeight = scrollContainer.offsetHeight; // Check if any value has changed\n\n        if (OBSERVED_ATTRIBUTES.some(function (key) {\n          return newValues[key] !== prevValues[key];\n        })) {\n          if (scrollingTimeout.current != null) {\n            clearTimeout(scrollingTimeout.current);\n          }\n\n          if (rootNode != null) {\n            rootNode.dataset.scrolling = true;\n          }\n\n          scrollingTimeout.current = setTimeout(function () {\n            var rootNode = rootRef.current;\n\n            if (rootNode != null) {\n              delete rootNode.dataset.scrolling;\n            }\n          }, 100);\n          prevValues = newValues;\n        }\n\n        var scrollTop = newValues.scrollTop,\n            scrollHeight = newValues.scrollHeight,\n            offsetHeight = newValues.offsetHeight;\n        var offset = 100 * scrollTop / scrollHeight;\n        var scale = offsetHeight / scrollHeight;\n        scrollbarScale.current = scale; // Draw the new scrollbar\n\n        if (scrollbar != null) {\n          scrollbar.style.transform = \"translateY(\".concat(offset, \"%) scaleY(\").concat(scale, \")\");\n          Array.from(scrollbar.children).forEach(function (e) {\n            return e.style.transform = \"scaleY(\".concat(1 / scale, \")\");\n          });\n        } // Show or hide the scrollbar depending on scale\n\n\n        if (rootNode != null) {\n          if (scale < 1) {\n            delete rootNode.dataset.hidden;\n          } else {\n            rootNode.dataset.hidden = true;\n          }\n        }\n      }\n\n      requestAnimationFrame(animationLoop);\n    };\n\n    var mouseDown = function mouseDown(event) {\n      // Prevent click events from bubbling up and closing modals for instance\n      event.preventDefault();\n      var scroller = scrollContainerRef.current;\n\n      if (scroller != null) {\n        isDraggingScrollbar.current = true;\n        initialScrollbarY.current = event.clientY;\n        initialScrollTop.current = scroller.scrollTop;\n      }\n\n      var rootNode = rootRef.current;\n\n      if (rootNode != null) {\n        rootNode.dataset.moving = true;\n      }\n    };\n\n    var mouseUp = function mouseUp() {\n      if (!isDraggingScrollbar.current) {\n        return;\n      }\n\n      isDraggingScrollbar.current = false;\n      var rootNode = rootRef.current;\n\n      if (rootNode != null) {\n        delete rootNode.dataset.moving;\n      }\n    };\n\n    var mouseMove = function mouseMove(event) {\n      if (!isDraggingScrollbar.current) {\n        return;\n      }\n\n      var scroller = scrollContainerRef.current;\n\n      if (scroller != null) {\n        var diff = (event.clientY - initialScrollbarY.current) / scrollbarScale.current;\n        scroller.scrollTop = initialScrollTop.current + diff;\n      }\n    };\n\n    var scrollbar = scrollbarRef.current;\n    animationLoop();\n    window.addEventListener('mouseup', mouseUp);\n    window.addEventListener('mousemove', mouseMove);\n    scrollbar.addEventListener('mousedown', mouseDown);\n    return function () {\n      // Cancel the animationLoop\n      window.cancelAnimationFrame(animationId);\n      window.removeEventListener('mouseup', mouseUp);\n      window.removeEventListener('mousemove', mouseMove);\n      scrollbar.removeEventListener('mousedown', mouseDown);\n    };\n  }, []);\n  useLayoutEffect(function () {\n    var scrollContainer = scrollContainerRef.current;\n\n    if (scrollContainer != null) {\n      var width = scrollContainer.offsetWidth - scrollContainer.clientWidth;\n      setScrollbarWidth(function (_w) {\n        return width;\n      });\n    }\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"scroll-y \".concat(dark ? 'dark' : ''),\n    ref: rootRef\n  }, React.createElement(\"div\", {\n    ref: scrollContainerRef,\n    className: \"scroll-y__scrollbar-hider\",\n    style: {\n      // Hide scrollbar outside of viewport\n      right: -GUTTER_WIDTH,\n      paddingRight: GUTTER_WIDTH - scrollbarWidth\n    }\n  }, children), React.createElement(\"div\", {\n    className: \"scroll-y__scrollbar-container\"\n  }, React.createElement(\"div\", {\n    ref: scrollbarRef,\n    className: \"scroll-y__scrollbar\"\n  }, React.createElement(\"div\", {\n    className: \"scroll-y__scrollbar__top\"\n  }), React.createElement(\"div\", {\n    className: \"scroll-y__scrollbar__bottom\"\n  }))));\n}\n\nexport { ScrollY };","import '@clustree/scroll/lib/index.css';\nimport './App.css';\n\nimport React, { useState, useLayoutEffect } from 'react';\nimport { ScrollY } from '@clustree/scroll';\nimport { Number } from 'core-js';\n\nfunction useDarkMode(defaultValue = false) {\n  const [isDark, toggleDark] = useState(defaultValue);\n\n  useLayoutEffect(() => {\n    if (isDark) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [isDark]);\n\n  return [isDark, () => toggleDark(v => !v)];\n}\n\nconst LOREM = `Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.`;\n\nfunction LoremIpsum({ count }) {\n  return (\n    <>\n      {new Array(count).fill(LOREM).map((l, i) => (\n        <p key={i}>{l}</p>\n      ))}\n    </>\n  );\n}\n\nfunction NativeScroll({ children }) {\n  return <div className=\"nativeScroll\">{children}</div>;\n}\n\nfunction App() {\n  const [isDark, toggleDark] = useDarkMode(true);\n  const [useNativeScroll, toggleNativeScroll] = useState(true);\n  const [dropdownOpen, toggleDropDown] = useState(false);\n  const [count, setCount] = useState(5);\n\n  const Component = useNativeScroll ? NativeScroll : ScrollY;\n  return (\n    <div className=\"App\">\n      <h1>@clustree/scroll</h1>\n\n      <div className=\"main\">\n        <div>\n          <p>\n            <code>{'<ScrollY />'}</code> is a custom scrollbar with a transparent track.\n          </p>\n          <p>\n            It takes one boolean prop: <code>dark</code> that determines if the scrollbar thumb is dark or light.\n          </p>\n          <p>\n            This allows one to have consistent scrollbar styling across many browsers and OSes, including Internet\n            Explorer 11.\n          </p>\n          <button type=\"button\" onClick={toggleDark}>\n            Toggle Dark mode\n          </button>\n        </div>\n        <div>\n          <h3>Demo:</h3>\n          <h4>\n            {useNativeScroll ? 'Using native scrollbars' : 'Using <ScrollY />'}{' '}\n            <button type=\"button\" onClick={() => toggleNativeScroll(v => !v)}>\n              {!useNativeScroll ? 'Use native scrollbars' : 'Use <ScrollY />'}{' '}\n            </button>\n          </h4>\n\n          <label>\n            Number of paragraphs:{` `}\n            <input\n              type=\"range\"\n              min=\"1\"\n              max=\"10\"\n              value={count}\n              onChange={e => setCount(Number.parseInt(e.target.value, 10))}\n            />\n            {` ${count}`}\n          </label>\n\n          <div className=\"demo\">\n            <Component dark={!isDark}>\n              <div className=\"inner\">\n                <LoremIpsum count={count} />\n                <div className=\"relative\">\n                  <button onClick={() => toggleDropDown(v => !v)}>Toggle absolutely positionned content</button>\n                  {dropdownOpen ? (\n                    <div className=\"absolute\">\n                      Absolute content that overflows affects total height for the scrollbar\n                    </div>\n                  ) : null}\n                </div>\n              </div>\n            </Component>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}